@page "/help"
@rendermode InteractiveServer

<PageTitle>使用說明 - CovenantPromptKey</PageTitle>

<div class="help-page">
    <div class="page-header">
        <h1>
            <i class="bi bi-question-circle me-2"></i>
            使用說明
        </h1>
        <p class="text-muted">了解如何使用 CovenantPromptKey 進行關鍵字遮罩與還原</p>
    </div>

    <div class="help-sections">
        <!-- Quick Start -->
        <section class="help-section">
            <h2><i class="bi bi-lightning me-2"></i>快速開始</h2>
            <div class="help-content">
                <ol class="step-list">
                    <li>
                        <strong>設定關鍵字字典</strong>
                        <p>前往「字典管理」頁面，新增需要遮罩的敏感關鍵字及其替代詞。</p>
                    </li>
                    <li>
                        <strong>貼上原文</strong>
                        <p>在「遮罩/還原」頁面的左側編輯區貼上包含敏感資訊的文字。</p>
                    </li>
                    <li>
                        <strong>選擇要遮罩的關鍵字</strong>
                        <p>系統會自動偵測文字中的關鍵字，您可以選擇要遮罩哪些。</p>
                    </li>
                    <li>
                        <strong>執行遮罩</strong>
                        <p>點擊「執行遮罩」按鈕，右側會顯示遮罩後的結果。</p>
                    </li>
                    <li>
                        <strong>還原文字</strong>
                        <p>收到 AI 回覆後，切換到「還原」頁籤，貼上回覆文字後執行還原。</p>
                    </li>
                </ol>
            </div>
        </section>

        <!-- Features -->
        <section class="help-section">
            <h2><i class="bi bi-gear me-2"></i>功能介紹</h2>
            <div class="help-content">
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="bi bi-eye-slash"></i>
                        </div>
                        <h3>關鍵字遮罩</h3>
                        <p>將敏感關鍵字替換為安全的替代詞，保護隱私資訊。</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="bi bi-arrow-repeat"></i>
                        </div>
                        <h3>文字還原</h3>
                        <p>將 AI 回覆中的替代詞還原為原始關鍵字。</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="bi bi-palette"></i>
                        </div>
                        <h3>顏色標示</h3>
                        <p>不同關鍵字使用不同顏色標示，便於識別。</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="bi bi-exclamation-triangle"></i>
                        </div>
                        <h3>語境警示</h3>
                        <p>偵測關鍵字前後緊鄰中文字元時顯示警示。</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="bi bi-file-earmark-arrow-up"></i>
                        </div>
                        <h3>CSV 匯入匯出</h3>
                        <p>支援 CSV 格式匯入匯出關鍵字字典。</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="bi bi-bug"></i>
                        </div>
                        <h3>除錯日誌</h3>
                        <p>記錄所有操作，方便問題排查。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dictionary Management -->
        <section class="help-section">
            <h2><i class="bi bi-book me-2"></i>字典管理</h2>
            <div class="help-content">
                <h3>新增關鍵字</h3>
                <ul>
                    <li><strong>敏感關鍵字</strong>：需要被遮罩的原始文字（如公司名稱、產品名稱）</li>
                    <li><strong>替代關鍵字</strong>：用來替換敏感關鍵字的安全文字</li>
                    <li><strong>標示顏色</strong>：用於區分不同關鍵字的顏色</li>
                </ul>
                
                <h3>CSV 格式</h3>
                <p>匯入的 CSV 檔案需包含以下欄位：</p>
                <pre class="code-block">SensitiveKey,SafeKey,HighlightColor
公司名稱,某科技公司,#ffc107
產品名稱,產品A,#17a2b8</pre>

                <div class="alert alert-info">
                    <i class="bi bi-info-circle me-2"></i>
                    <strong>提示</strong>：HighlightColor 欄位為選填，未填寫時將自動指派顏色。
                </div>
            </div>
        </section>

        <!-- Context Warnings -->
        <section class="help-section">
            <h2><i class="bi bi-exclamation-triangle me-2"></i>語境警示</h2>
            <div class="help-content">
                <p>當關鍵字前後緊鄰中文字元時，系統會顯示警示圖示。這表示該關鍵字可能是其他詞彙的一部分，遮罩後可能影響語意。</p>
                
                <div class="example-box">
                    <h4>範例</h4>
                    <p>假設關鍵字「武科電」對應替代詞「某公司」：</p>
                    <ul>
                        <li>「<span class="highlight">武科電</span>的產品」→ 正常遮罩</li>
                        <li>「<span class="highlight warning">武科電</span>路板」→ 顯示警示（後方緊鄰「路板」）</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Keyboard Shortcuts -->
        <section class="help-section">
            <h2><i class="bi bi-keyboard me-2"></i>鍵盤快捷鍵</h2>
            <div class="help-content">
                <table class="shortcut-table">
                    <thead>
                        <tr>
                            <th>快捷鍵</th>
                            <th>功能</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><kbd>Ctrl</kbd> + <kbd>V</kbd></td>
                            <td>貼上文字</td>
                        </tr>
                        <tr>
                            <td><kbd>Ctrl</kbd> + <kbd>A</kbd></td>
                            <td>全選關鍵字</td>
                        </tr>
                        <tr>
                            <td><kbd>Ctrl</kbd> + <kbd>Enter</kbd></td>
                            <td>執行遮罩/還原</td>
                        </tr>
                        <tr>
                            <td><kbd>Ctrl</kbd> + <kbd>C</kbd></td>
                            <td>複製結果</td>
                        </tr>
                        <tr>
                            <td><kbd>Esc</kbd></td>
                            <td>取消全選</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- FAQ -->
        <section class="help-section">
            <h2><i class="bi bi-chat-question me-2"></i>常見問題</h2>
            <div class="help-content">
                <div class="faq-item">
                    <h4>Q: 關鍵字字典會儲存在哪裡？</h4>
                    <p>A: 關鍵字字典儲存在瀏覽器的 localStorage 中，只存在於您的本機。清除瀏覽器資料會刪除字典。</p>
                </div>
                <div class="faq-item">
                    <h4>Q: 如何備份關鍵字字典？</h4>
                    <p>A: 在「字典管理」頁面使用「匯出 CSV」功能，將字典匯出為 CSV 檔案。</p>
                </div>
                <div class="faq-item">
                    <h4>Q: 還原時大小寫會影響結果嗎？</h4>
                    <p>A: 還原功能不區分大小寫，「CompanyA」和「companya」都會被還原。</p>
                </div>
                <div class="faq-item">
                    <h4>Q: 最多可以設定多少組關鍵字？</h4>
                    <p>A: 目前支援最多 500 組關鍵字映射。</p>
                </div>
            </div>
        </section>
    </div>
</div>

@code {
}
